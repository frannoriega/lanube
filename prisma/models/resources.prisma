// Resource Management

model FungibleResource {
  id        String       @id @default(cuid())
  name      String
  type      ResourceType
  capacity  Int
  createdAt DateTime     @default(now()) @map("created_at")
  updatedAt DateTime     @updatedAt @map("updated_at")

  resources Resource[]

  @@map("fungible_resources")
}

model Resource {
  id                 String   @id @default(cuid())
  name               String
  fungibleResourceId String   @map("fungible_resource_id")
  serialNumber       String?  @unique @map("serial_number")
  metadata           Json?
  createdAt          DateTime @default(now()) @map("created_at")
  updatedAt          DateTime @updatedAt @map("updated_at")

  fungibleResource FungibleResource @relation(fields: [fungibleResourceId], references: [id], onDelete: Cascade)
  reservations     Reservation[]

  @@index([fungibleResourceId])
  @@map("resources")
}
